"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_document-ready_ts-app_assets_modules_github_orgs_invitations_ts-app-c85a6b"],{19146(e,t,n){n.d(t,{W:()=>o});var r=n(59753);async function o(e){let t=document.querySelector("#site-details-dialog").content.cloneNode(!0),n=t.querySelector("details"),o=n.querySelector("details-dialog"),a=n.querySelector(".js-details-dialog-spinner");e.detailsClass&&n.classList.add(...e.detailsClass.split(" ")),e.dialogClass&&o.classList.add(...e.dialogClass.split(" ")),e.label?o.setAttribute("aria-label",e.label):e.labelledBy&&o.setAttribute("aria-labelledby",e.labelledBy),document.body.append(t);try{let t=await e.content;a.remove(),o.prepend(t)}catch(t){a.remove();let n=document.createElement("span");n.textContent=e.errorMessage||"Couldn't load the content",n.classList.add("my-6"),n.classList.add("mx-4"),o.prepend(n)}return n.addEventListener("toggle",(()=>{n.hasAttribute("open")||((0,r.f)(o,"dialog:remove"),n.remove())})),o}},80721(e,t,n){n.d(t,{C:()=>r.C,x:()=>r.x});var r=n(4412)},98249(e,t,n){n.d(t,{D:()=>s,a:()=>a});var r=n(2825),o=n(75662);async function a(e,t,n){let a=new Request(t,n);a.headers.append("X-Requested-With","XMLHttpRequest");let s=await self.fetch(a);if(s.status<200||s.status>=300)throw Error(`HTTP ${s.status}${s.statusText||""}`);return(0,r.t)((0,r.P)(e),s),(0,o.r)(e,await s.text())}function s(e,t,n=1e3,r=[200]){return async function n(o){let a=new Request(e,t);a.headers.append("X-Requested-With","XMLHttpRequest");let s=await self.fetch(a);if(202===s.status)return await new Promise((e=>setTimeout(e,o))),n(1.5*o);if(r.includes(s.status))return s;if(s.status<200||s.status>=300)throw Error(`HTTP ${s.status}${s.statusText||""}`);throw Error(`Unexpected ${s.status} response status from poll endpoint`)}(n)}},2825(e,t,n){function r(e){let t=[...e.querySelectorAll("meta[name=html-safe-nonce]")].map((e=>e.content));if(t.length<1)throw Error("could not find html-safe-nonce on document");return t}n.d(t,{P:()=>r,t:()=>a});let o=class extends Error{constructor(e,t){super(`${e} for HTTP ${t.status}`),this.response=t}};function a(e,t,n=!1){let r=t.headers.get("content-type")||"";if(!n&&!r.startsWith("text/html"))throw new o(`expected response with text/html, but was ${r}`,t);if(n&&!r.startsWith("text/html")&&!r.startsWith("application/json"))throw new o(`expected response with text/html or application/json, but was ${r}`,t);let a=t.headers.get("x-html-safe");if(!a)throw new o("missing X-HTML-Safe nonce",t);if(!e.includes(a))throw new o("response X-HTML-Safe nonce did not match",t)}},29764(e,t,n){n.d(t,{$S:()=>o,Fk:()=>a,sz:()=>s});var r=n(60958);function o(e,t,n){let o={hydroEventPayload:e,hydroEventHmac:t,visitorPayload:"",visitorHmac:"",hydroClientContext:n},a=document.querySelector("meta[name=visitor-payload]");a instanceof HTMLMetaElement&&(o.visitorPayload=a.content);let s=document.querySelector("meta[name=visitor-hmac]")||"";s instanceof HTMLMetaElement&&(o.visitorHmac=s.content),(0,r.b)(o,!0)}function a(e){o(e.getAttribute("data-hydro-view")||"",e.getAttribute("data-hydro-view-hmac")||"",e.getAttribute("data-hydro-client-context")||"")}function s(e){o(e.getAttribute("data-hydro-click-payload")||"",e.getAttribute("data-hydro-click-hmac")||"",e.getAttribute("data-hydro-client-context")||"")}},254(e,t,n){n.d(t,{ZG:()=>i,q6:()=>u,w4:()=>l});var r=n(8439);let o=!1,a=new r.Z;function s(e){let t=e.target;if(t instanceof HTMLElement&&t.nodeType!==Node.DOCUMENT_NODE)for(let e of a.matches(t))e.data.call(null,t)}function i(e,t){o||(o=!0,document.addEventListener("focus",s,!0)),a.add(e,t),document.activeElement instanceof HTMLElement&&document.activeElement.matches(e)&&t(document.activeElement)}function l(e,t,n){function r(t){let o=t.currentTarget;o&&(o.removeEventListener(e,n),o.removeEventListener("blur",r))}i(t,(function(t){t.addEventListener(e,n),t.addEventListener("blur",r)}))}function u(e,t){function n(e){let{currentTarget:r}=e;r&&(r.removeEventListener("input",t),r.removeEventListener("blur",n))}i(e,(function(e){e.addEventListener("input",t),e.addEventListener("blur",n)}))}},27303(e,t,n){n.d(t,{V:()=>d,l:()=>m});var r=n(36071),o=n(59753),a=n(254),s=n(29764);let i="team_ids[]",l="role",u=(e,t)=>{let n=document.createElement("input");return n.type="hidden",n.name=e,n.value=t,n},c=e=>document.querySelectorAll(`${e} > a`);function d(e,t){if(e.checked)for(let n of document.querySelectorAll(t))n.appendChild(u(i,e.value));else for(let t of document.querySelectorAll(`input[type="hidden"][name="${i}"][value="${e.value}"]`))t.remove()}function m(e,t){let n=(e=>{let t=new URLSearchParams(window.location.search),n=new Set(t.getAll(i)),r=document.querySelectorAll(e);for(let e of r)e.checked?n.add(e.value):n.delete(e.value);return[...n]})(t);for(let t of c(e)){let e=t.getAttribute("href");if(e){let r=new URL(e,window.location.origin),o=new URLSearchParams(r.search.slice(1));for(let e of(o.delete(i),n))o.append(i,e);r.search=o.toString(),t.setAttribute("href",r.toString())}}}function f(){let e=document.querySelector(".js-org-reinstate-forms"),t=document.querySelectorAll(".js-org-reinstate-option:checked");if(!e||1!==t.length)return;let n=t[0].getAttribute("data-form"),r=e.getElementsByClassName("js-togglable-form");for(let e of r)e.classList.add("d-none");document.getElementById(n).classList.remove("d-none")}function g(){let e=document.querySelector(".js-seats");if(!e)return b();let t=e.getAttribute("data-filled-seats");return parseInt(t)+b()}function p(){!(0>=b()&&(h(".js-plan-no-change",!0),h(".js-plan-changes",!0),1))&&(function(){let e=document.querySelector(".js-filled-seats"),t=g();e&&null!==t&&(e.textContent=t.toString())}(),function(){let e=document.querySelector(".js-seats-remaining");if(e instanceof HTMLElement){e.hidden=!0;let t=w()-g(),n=document.querySelector(".js-seats-remaining-zero"),r=document.querySelector(".js-seats-remaining-singular"),o=document.querySelector(".js-seats-remaining-plural");if(n.hidden=0!==t,r.hidden=1!==t,t>1){document.querySelector(".js-seats-remaining-update-target").textContent=String(t)}o.hidden=t<=1}}(),function(){let e=document.querySelector(".js-max-seats-warning");e instanceof HTMLElement&&(e.hidden=!j())}(),function(){let e=g();return w()<e}()?async function(){let e=document.querySelector(".js-seats");if(!e)return;let t=new URL(e.getAttribute("data-url"),window.location.origin),n=new URLSearchParams(t.search.slice(1));n.append("seats",g().toString()),t.search=n.toString(),y?.abort();let{signal:r}=y=new AbortController,o=null;try{let e=await fetch(t.toString(),{signal:r,headers:{Accept:"application/json"}});e.ok&&(o=await e.json())}catch{}if(r.aborted||!o)return;let a=o.new_price,s=e.getAttribute("data-original-price");if(s&&a===s)return void h(".js-plan-no-change",!0);!function(){let e=document.querySelector(".js-new-seats"),t=document.querySelector(".js-new-users-singular"),n=document.querySelector(".js-new-users-plural"),r=b();t.hidden=1!==r,n.hidden=1===r,e.textContent=String(r)}();let i=o.selectors;for(let e in i)for(let t of document.querySelectorAll(e))t.innerHTML=i[e];h(".js-plan-no-change",!0),h(".js-plan-changes",!1),h(".js-complete-button",!0),h(".js-invite-button",!1)}():(h(".js-plan-no-change",!1),h(".js-plan-changes",!0),h(".js-complete-button",!1),h(".js-invite-button",!0)))}function h(e,t){let n=document.querySelector(e);n instanceof HTMLElement&&(n.hidden=t)}(0,o.on)("click",".js-invitation-toggle-team",(async function({currentTarget:e}){m(".js-invitations-team-suggestions-pagination",".js-invitation-toggle-team"),d(e,"form.js-org-team-suggestions")})),(0,o.on)("click",".js-invitation-radio-role",(async function({currentTarget:e}){let t=e.value;for(let e of c(".js-invitations-team-suggestions-pagination")){let n=e.getAttribute("href");if(n){let r=new URL(n,window.location.origin),o=new URLSearchParams(r.search.slice(1));o.set("role",t),r.search=o.toString(),e.setAttribute("href",r.toString())}}for(let e of document.querySelectorAll('input[type="hidden"][name="role"]'))e.remove();for(let e of document.querySelectorAll("form.js-org-member-role"))e.appendChild(u(l,t))})),(0,o.on)("change",".js-org-reinstate-option",f),(0,r.N7)(".js-org-reinstate-forms",f),(0,r.N7)(".js-member-suggestion",(function(){let e=Array.from(document.querySelectorAll(".js-badge")).map((e=>e.querySelector("input").value));if(0!==e.length)for(let t of document.querySelectorAll(".js-member-suggestion")){let n=t.getAttribute("data-autocomplete-value");if(e.includes(n)){t.classList.add("disabled"),t.setAttribute("aria-disabled","true");let e=t.querySelector(".js-non-member-warning-reason"),n=t.querySelector(".js-non-member-warning-action");if(e&&n)for(let t of[e,n])t.textContent=t.getAttribute("data-markup"),t instanceof HTMLElement&&(t.hidden=!1)}}})),(0,o.on)("combobox-commit",".js-badge-container .js-new-org-members-complete-results",(e=>{let t=document.querySelector(".js-badge-input"),n=document.querySelector(".js-badges"),r=e.target.querySelectorAll(".js-badge-template"),o=Array.from(document.querySelectorAll(".js-badge")).map((e=>e.querySelector("input").value));for(let e of r){let t=e.cloneNode(!0).content,r=t.querySelector("input").value;o.includes(r)||n.append(t)}p(),function(e){let t=e.target;(0,s.sz)(t)}(e),t.value="",t.setAttribute("placeholder","")})),(0,o.on)("click",".js-badge-search-container .js-badge",(e=>{let t=e.currentTarget;"true"===t.getAttribute("aria-pressed")?t.setAttribute("aria-pressed","false"):t.setAttribute("aria-pressed","true")})),(0,o.on)("details-dialog-close",".js-invite-member-dialog",(e=>{let t=e.currentTarget.querySelector(".js-auto-complete-button");t&&(t.disabled=!0)})),(0,o.on)("click",".js-badge-search-container",(e=>{e.currentTarget.querySelector("input").focus()})),(0,o.on)("click",".js-badge-container .js-member-suggestion",(()=>{document.querySelector(".js-badge-input").focus()})),(0,a.w4)("keydown",".js-badge-search-container .js-badge-input",(e=>{let t=e.target,n=t.closest(".js-badge-search-container"),r=n.querySelectorAll('.js-badges .js-badge[aria-pressed="true"]'),o=n.getAttribute("data-allow-plan-increase"),a="Backspace"!==e.key||""!==t.value;if(!o&&j()&&a)e.preventDefault();else if(!a){if(0!==r.length)for(let e of r)e.remove(),v(e);else{let e=n.querySelectorAll(".js-badges .js-badge");if(0===e.length)return;let t=e[e.length-1];t.remove(),v(t)}p()}}));let y=null;function b(){return document.querySelectorAll(".js-badge").length||0}function w(){let e=document.querySelector(".js-seats");if(!e)return 0;let t=e.getAttribute("data-total-seats");return parseInt(t)}function j(){return w()===g()}function v(e){(0,s.sz)(e)}},94056(e,t,n){n.d(t,{Z:()=>d});var r=n(19146),o=n(98249),a=n(65935),s=n(63047);let i=!1;let l=!1;async function u(){if(i)return!1;i=!0,l=!1;let e=(await async function(){let e=document.querySelector("link[rel=sudo-modal]"),t=document.querySelector(".js-sudo-prompt");if(t instanceof HTMLTemplateElement)return t;if(e){let t=await(0,o.a)(document,function(e){let t=new URL(e,window.location.origin),n=new URLSearchParams(t.search.slice(1));return n.set("webauthn-support",(0,s.T)()),t.search=n.toString(),t.toString()}(e.href));return document.body.appendChild(t),document.querySelector(".js-sudo-prompt")}throw Error("couldn't load sudo prompt")}()).content.cloneNode(!0),t=await(0,r.W)({content:e});return await new Promise((e=>{t.addEventListener("dialog:remove",(function(){i=!1,e()}),{once:!0})})),l}async function c(e,t,n="Sudo authentication failed.",r="Too many authentication attemtps. Please try again later.",o=".js-sudo-error",a){try{await t.text()}catch(t){if(!t.response)throw t;let s;switch(t.response.status){case 401:s=n;break;case 429:s=r;break;default:s="An unknown error occurred. Please try again later."}if(e.querySelector(o).textContent=s,e.querySelector(o).hidden=!1,a&&(e.querySelector(a).value=""),401!==t.response.status&&429!==t.response.status)throw t;return}l=!0,e.closest("details").removeAttribute("open")}async function d(){let e=await fetch("/sessions/in_sudo",{headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(e.ok){if("true"===await e.text())return!0}return u()}(0,a.AC)(".js-sudo-webauthn-form",(async function(e,t){await c(e,t)})),(0,a.AC)(".js-sudo-github-mobile-form",(async function(e,t){await c(e,t)})),(0,a.AC)(".js-sudo-totp-form",(async function(e,t){await c(e,t,void 0,void 0,".flash-error","#totp")})),(0,a.AC)(".js-sudo-password-form",(async function(e,t){await c(e,t,"Incorrect password.","Too many password attempts. Please wait and try again.",void 0,".js-sudo-password")}))},63047(e,t,n){n.d(t,{T:()=>o,k:()=>a});var r=n(8433);function o(){return(0,r.Zh)()?"supported":"unsupported"}async function a(){return await(window.PublicKeyCredential?.isUserVerifyingPlatformAuthenticatorAvailable())?"supported":"unsupported"}}}]);