"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_behaviors_keyboard-shortcuts-helper_ts-app_assets_modules_github_be-f5afdb"],{94313(e,t,n){n.d(t,{Ty:()=>l,YE:()=>r,Zf:()=>o});var s=n(11793);let l=()=>{let e=document.querySelector("meta[name=keyboard-shortcuts-preference]");return!e||"all"===e.content},r=e=>/Enter|Arrow|Escape|Meta|Control|Esc/.test(e)||e.includes("Alt")&&e.includes("Shift"),o=e=>{let t=(0,s.EL)(e);return!!l()||r(t)}},48804(e,t,n){n.d(t,{L$:()=>d,SE:()=>L,nj:()=>f});var s,l,r=n(76932),o=n(59753),i=n(40987),a=n(36071),c=n(65935),u=n(54650);function d(e){if(e.querySelector(".js-task-list-field")){let t=e.querySelectorAll("task-lists");for(let e of t)if(e instanceof i.Z){e.disabled=!1;let t=e.querySelectorAll("button");for(let e of t)e.disabled=!1}}}function f(e){for(let t of e.querySelectorAll("task-lists"))if(t instanceof i.Z){t.disabled=!0;let e=t.querySelectorAll("button");for(let t of e)t.disabled=!0}}function m(e,t,n){let s=e.querySelector(".js-comment-update");f(e),q(e);let l=s.elements.namedItem("task_list_track");l instanceof Element&&l.remove();let r=s.elements.namedItem("task_list_operation");r instanceof Element&&r.remove();let o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name","task_list_track"),o.setAttribute("value",t),s.appendChild(o);let i=document.createElement("input");if(i.setAttribute("type","hidden"),i.setAttribute("name","task_list_operation"),i.setAttribute("value",JSON.stringify(n)),s.appendChild(i),!s.elements.namedItem("task_list_key")){let e=s.querySelector(".js-task-list-field").getAttribute("name").split("[")[0],t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","task_list_key"),t.setAttribute("value",e),s.appendChild(t)}e.classList.remove("is-comment-stale"),(0,u.Bt)(s)}(0,a.N7)(".js-task-list-container .js-task-list-field",(function(e){let t=e.closest(".js-task-list-container");d(t),q(t)})),(0,a.N7)(".js-convert-tasklist-to-block-enabled .contains-task-list",(function(e){let t=T(e);if(!t)return;if(Array.from(t.children).some((e=>e.classList.contains("task-list-item-convert-container"))))return;let n=e.ownerDocument.querySelector(".js-convert-to-block-template")?.content.cloneNode(!0);n&&t.appendChild(n)})),(0,o.on)("task-lists-move","task-lists",(function(e){let{src:t,dst:n}=e.detail;m(e.currentTarget.closest(".js-task-list-container"),"reordered",{operation:"move",src:t,dst:n})})),(0,o.on)("task-lists-check","task-lists",(function(e){let{position:t,checked:n}=e.detail;m(e.currentTarget.closest(".js-task-list-container"),"checked:"+(n?1:0),{operation:"check",position:t,checked:n})})),(0,o.on)("click",".js-convert-to-block-button",(function(e){let t=T(e.target);if(!t)return;if(!t.closest("task-lists"))throw Error("parent not found");let n=L(t);m(e.currentTarget.closest(".js-task-list-container"),"converted",{operation:"convert_to_block",position:n})})),(0,c.AC)(".js-task-list-container .js-comment-update",(async function(e,t){let n=e.closest(".js-task-list-container"),s=e.elements.namedItem("task_list_track");s instanceof Element&&s.remove();let l,r=e.elements.namedItem("task_list_operation");r instanceof Element&&r.remove();try{l=await t.json()}catch(e){let t;try{t=JSON.parse(e.response.text)}catch(e){}if(t&&t.stale){let e=n.querySelector(".js-task-list-field");e.classList.add("session-resumable-canceled"),e.classList.remove("js-session-resumable")}else 422===e.response.status||window.location.reload()}l&&(r&&l.json.source&&(n.querySelector(".js-task-list-field").value=l.json.source),d(n),requestAnimationFrame((()=>q(n))))}));let p=!1,h=!1,b=null;function g(e){let t="insertLineBreak"===e.inputType;p=!!t}function k(e){let t=e;if(!p){if(!("insertLineBreak"===t.inputType))return}(function(e){let t=function(e,t){let n=t[0];if(!n||!e)return;let s=e.substring(0,n).split("\n"),r=s[s.length-2],o=r?.match(A);if(!o)return;let i=o[0],a=o[1],c=o[2],u=parseInt(o[3],10),d=Boolean(o[4]),f=!isNaN(u),m=`${f?`${u+1}.`:c} ${d?"[ ] ":""}`,p=e.indexOf("\n",n);p<0&&(p=e.length);let h=e.substring(n,p);if(h.startsWith(m)&&(m=""),r.replace(i,"").trim().length>0||h.trim().length>0){let t=`${a}${m}`,s=e.substring(n),r=t.length,o=[null,null],i=/^\s*$/g,c=e.substring(0,n)+t+s;if(f&&!e.substring(n).match(i)){var b,g;let l;b=e.substring(n),g=u+1,s=(l=(l=b.split("\n")).map((e=>{if(e.replace(/^\s+/,"").startsWith(`${g}.`)){let t=e.replace(`${g}`,`${g+1}`);return g+=1,t}return e}))).join("\n"),t+=s,o=[n,n+t.length],c=e.substring(0,n)+t}return{text:c,autocompletePrefix:t,selection:[n+r,n+r],commandId:l.insertText,writeSelection:o}}{let t=n-`\n${i}`.length;return{autocompletePrefix:"",text:e.substring(0,t)+e.substring(n),selection:[t,t],commandId:l.delete,writeSelection:[null,null]}}}(e.value,[e.selectionStart,e.selectionEnd]);void 0!==t&&w(e,t)})(t.target),p=!1}function w(e,t){if(null===b||!0===b){e.contentEditable="true";try{let n;p=!1,t.commandId===l.insertText?(n=t.autocompletePrefix,null!==t.writeSelection[0]&&null!==t.writeSelection[1]&&(e.selectionStart=t.writeSelection[0],e.selectionEnd=t.writeSelection[1])):e.selectionStart=t.selection[0],b=document.execCommand(t.commandId,!1,n)}catch(e){b=!1}e.contentEditable="false"}if(!b){try{document.execCommand("ms-beginUndoUnit")}catch(e){}e.value=t.text;try{document.execCommand("ms-endUndoUnit")}catch(e){}e.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}null!=t.selection[0]&&null!=t.selection[1]&&(e.selectionStart=t.selection[0],e.selectionEnd=t.selection[1])}function y(e){if(h)return;let t=e;if("Enter"===t.key&&t.shiftKey&&!t.metaKey){let e=t.target,n=function(e,t){let n=t[0];if(!n||!e)return;let s=e.substring(0,n).split("\n"),r=s[s.length-1]?.match(S);if(!r)return;let o=`\n${r[1]||""}`;return{text:e.substring(0,n)+o+e.substring(n),autocompletePrefix:o,selection:[n+o.length,n+o.length],commandId:l.insertText,writeSelection:[null,null]}}(e.value,[e.selectionStart,e.selectionEnd]);if(void 0===n)return;w(e,n),t.preventDefault(),(0,o.f)(e,"change")}}function v(){h=!0}function E(){h=!1}function x(e){if(h)return;let t=e;if("Escape"===t.key)return void function(e){let t=e.target;"backward"===t.selectionDirection?t.selectionEnd=t.selectionStart:t.selectionStart=t.selectionEnd}(e);if("Tab"!==t.key)return;let n=t.target,s=function(e,t,n){let s=t[0]||0,r=t[1]||s;if(null===t[0]||s===r)return;let o=e.substring(0,s).lastIndexOf("\n")+1,i=e.indexOf("\n",r-1),a=i>0?i:e.length-1,c=e.substring(o,a).split("\n"),u=!1,d=0,f=0,m=[];for(let e of c){let t=e.match(/^\s*/);if(t){let s=t[0],l=e.substring(s.length);if(n){let e=s.length;s=s.slice(0,-2),d=u?d:s.length-e,u=!0,f+=s.length-e}else s+="  ",d=2,f+=2;m.push(s+l)}}let p=m.join("\n"),h=e.substring(0,o)+p+e.substring(a),b=[Math.max(o,s+d),r+f];return{text:h,selection:b,autocompletePrefix:p,commandId:l.insertText,writeSelection:[o,a]}}(n.value,[n.selectionStart,n.selectionEnd],t.shiftKey);void 0!==s&&(t.preventDefault(),w(n,s))}(0,a.N7)(".js-task-list-field",{subscribe:e=>(0,r.qC)((0,r.RB)(e,"keydown",x),(0,r.RB)(e,"keydown",y),(0,r.RB)(e,"beforeinput",g),(0,r.RB)(e,"input",k),(0,r.RB)(e,"compositionstart",v),(0,r.RB)(e,"compositionend",E))}),(s=l||(l={})).insertText="insertText",s.delete="delete";let S=/^(\s*)?/;let A=/^(\s*)([*-]|(\d+)\.)\s(\[[\sx]\]\s)?/;function L(e){let t=e.closest("task-lists");if(!t)throw Error("parent not found");return Array.from(t.querySelectorAll("ol, ul")).filter((e=>!e.closest("tracking-block"))).indexOf(e)}function q(e){if(0===document.querySelectorAll("tracked-issues-progress").length)return;if(e.closest(".js-timeline-item"))return;let t=e.querySelectorAll(".js-comment-body [type=checkbox]"),n=t.length,s=Array.from(t).filter((e=>e.checked)).length,l=document.querySelectorAll("tracked-issues-progress[data-type=checklist]");for(let e of l)e.setAttribute("data-completed",String(s)),e.setAttribute("data-total",String(n))}function T(e){let t=e.closest(".contains-task-list"),n=t;for(;(n=n.parentElement.closest(".contains-task-list"))!==t&&null!==n;)t=n;return t}},19146(e,t,n){n.d(t,{W:()=>l});var s=n(59753);async function l(e){let t=document.querySelector("#site-details-dialog").content.cloneNode(!0),n=t.querySelector("details"),l=n.querySelector("details-dialog"),r=n.querySelector(".js-details-dialog-spinner");e.detailsClass&&n.classList.add(...e.detailsClass.split(" ")),e.dialogClass&&l.classList.add(...e.dialogClass.split(" ")),e.label?l.setAttribute("aria-label",e.label):e.labelledBy&&l.setAttribute("aria-labelledby",e.labelledBy),document.body.append(t);try{let t=await e.content;r.remove(),l.prepend(t)}catch(t){r.remove();let n=document.createElement("span");n.textContent=e.errorMessage||"Couldn't load the content",n.classList.add("my-6"),n.classList.add("mx-4"),l.prepend(n)}return n.addEventListener("toggle",(()=>{n.hasAttribute("open")||((0,s.f)(l,"dialog:remove"),n.remove())})),l}},98249(e,t,n){n.d(t,{D:()=>o,a:()=>r});var s=n(2825),l=n(75662);async function r(e,t,n){let r=new Request(t,n);r.headers.append("X-Requested-With","XMLHttpRequest");let o=await self.fetch(r);if(o.status<200||o.status>=300)throw Error(`HTTP ${o.status}${o.statusText||""}`);return(0,s.t)((0,s.P)(e),o),(0,l.r)(e,await o.text())}function o(e,t,n=1e3,s=[200]){return async function n(l){let r=new Request(e,t);r.headers.append("X-Requested-With","XMLHttpRequest");let o=await self.fetch(r);if(202===o.status)return await new Promise((e=>setTimeout(e,l))),n(1.5*l);if(s.includes(o.status))return o;if(o.status<200||o.status>=300)throw Error(`HTTP ${o.status}${o.statusText||""}`);throw Error(`Unexpected ${o.status} response status from poll endpoint`)}(n)}},2825(e,t,n){function s(e){let t=[...e.querySelectorAll("meta[name=html-safe-nonce]")].map((e=>e.content));if(t.length<1)throw Error("could not find html-safe-nonce on document");return t}n.d(t,{P:()=>s,t:()=>r});let l=class extends Error{constructor(e,t){super(`${e} for HTTP ${t.status}`),this.response=t}};function r(e,t,n=!1){let s=t.headers.get("content-type")||"";if(!n&&!s.startsWith("text/html"))throw new l(`expected response with text/html, but was ${s}`,t);if(n&&!s.startsWith("text/html")&&!s.startsWith("application/json"))throw new l(`expected response with text/html or application/json, but was ${s}`,t);let r=t.headers.get("x-html-safe");if(!r)throw new l("missing X-HTML-Safe nonce",t);if(!e.includes(r))throw new l("response X-HTML-Safe nonce did not match",t)}},254(e,t,n){n.d(t,{ZG:()=>i,q6:()=>c,w4:()=>a});var s=n(8439);let l=!1,r=new s.Z;function o(e){let t=e.target;if(t instanceof HTMLElement&&t.nodeType!==Node.DOCUMENT_NODE)for(let e of r.matches(t))e.data.call(null,t)}function i(e,t){l||(l=!0,document.addEventListener("focus",o,!0)),r.add(e,t),document.activeElement instanceof HTMLElement&&document.activeElement.matches(e)&&t(document.activeElement)}function a(e,t,n){function s(t){let l=t.currentTarget;l&&(l.removeEventListener(e,n),l.removeEventListener("blur",s))}i(t,(function(t){t.addEventListener(e,n),t.addEventListener("blur",s)}))}function c(e,t){function n(e){let{currentTarget:s}=e;s&&(s.removeEventListener("input",t),s.removeEventListener("blur",n))}i(e,(function(e){e.addEventListener("input",t),e.addEventListener("blur",n)}))}},40458(e,t,n){n.d(t,{Z:()=>a});var s=n(19146),l=n(98249);function r(e){let t=document.querySelector(".sso-modal");t&&(t.classList.remove("success","error"),e?t.classList.add("success"):t.classList.add("error"))}(0,n(36071).N7)(".js-sso-modal-complete",(function(e){if(window.opener&&window.opener.external.ssoComplete){let t=e.getAttribute("data-error"),n=e.getAttribute("data-expires-around");window.opener.external.ssoComplete({error:t,expiresAround:n}),window.close()}else{let t=e.getAttribute("data-fallback-url");t&&(window.location.href=t)}}));let o=null;function i(){o=null}async function a(){await async function(){let e=document.querySelector("link[rel=sso-session]"),t=document.querySelector("meta[name=sso-expires-around]");if(!(e instanceof HTMLLinkElement&&function(e){if(!(e instanceof HTMLMetaElement))return!0;let t=parseInt(e.content);return(new Date).getTime()/1e3>t}(t)))return!0;let n=e.href,s=await fetch(n,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});return await s.json()}()||(o||(o=async function(){var e;let t=document.querySelector("link[rel=sso-modal]"),n=await(0,s.W)({content:(0,l.a)(document,t.href),dialogClass:"sso-modal"}),o=null,i=window.external;if(i.ssoComplete=function(e){e.error?r(o=!1):(r(o=!0),function(e){let t=document.querySelector("meta[name=sso-expires-around]");t&&t.setAttribute("content",e)}(e.expiresAround),window.focus()),i.ssoComplete=null},await(e=n,new Promise((t=>{e.addEventListener("dialog:remove",t,{once:!0})}))),!o)throw Error("sso prompt canceled")}().then(i).catch(i)),await o)}},76932(e,t,n){n.d(t,{RB:()=>l,qC:()=>r,w0:()=>s});class s{constructor(e){this.closed=!1,this.unsubscribe=()=>{e(),this.closed=!0}}}function l(e,t,n,l={capture:!1}){return e.addEventListener(t,n,l),new s((()=>{e.removeEventListener(t,n,l)}))}function r(...e){return new s((()=>{for(let t of e)t.unsubscribe()}))}}}]);