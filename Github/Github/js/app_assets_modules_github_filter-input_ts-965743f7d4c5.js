"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_filter-input_ts"],{54679(e,t,n){n.d(t,{H:()=>r,v:()=>a});var i=n(59753);function a(){let e=document.getElementById("ajax-error-message");e&&(e.hidden=!1)}function r(){let e=document.getElementById("ajax-error-message");e&&(e.hidden=!0)}(0,i.on)("deprecatedAjaxError","[data-remote]",(function(e){let t=e.detail,{error:n,text:i}=t;e.currentTarget===e.target&&"abort"!==n&&"canceled"!==n&&(/<html/.test(i)?(a(),e.stopImmediatePropagation()):setTimeout((function(){!e.defaultPrevented&&a()}),0))})),(0,i.on)("deprecatedAjaxSend","[data-remote]",(function(){r()})),(0,i.on)("click",".js-ajax-error-dismiss",(function(){r()}))},94313(e,t,n){n.d(t,{Ty:()=>a,YE:()=>r,Zf:()=>s});var i=n(11793);let a=()=>{let e=document.querySelector("meta[name=keyboard-shortcuts-preference]");return!e||"all"===e.content},r=e=>/Enter|Arrow|Escape|Meta|Control|Esc/.test(e)||e.includes("Alt")&&e.includes("Shift"),s=e=>{let t=(0,i.EL)(e);return!!a()||r(t)}},72122(e,t,n){n.d(t,{a:()=>f});var i=n(36162),a=n(4738),r=n(59753),s=n(47448),o=n(54650),l=n(76006),u=n(41311),c=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let h=new Map;class f extends HTMLElement{async cachedJSON(e){let t=await fetch(e,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!t.ok){let e=Error(),n=t.statusText?` ${t.statusText}`:"";throw e.message=`HTTP ${t.status}${n}`,e}return t.json()}fetchQualifierSuggestions(){let e="data-suggestable-qualifiers",t=this.searchInput.getAttribute(e);if(null===t)throw Error(`\n        ${e} is missing from ${this.searchInput.getAttribute("data-target")}.\n        Either add it or override fetchQualifierSuggestions.\n      `);return JSON.parse(t)}negatableQualifiers(){return JSON.parse(this.searchInput.getAttribute("data-negatable-qualifiers")||"[]")}removeNegationFromQualifierIfSupported(e){if(!e.startsWith("-"))return e;let[t,...n]=e.split(":"),i=t.substring(1);return this.negatableQualifiers().includes(i)&&(t=i),e.includes(":")&&(t+=":"),n?.length>0?`${t}${n.join(":")}`:t}fetchSuggestionsForQualifier(e){let t=`data-suggestable-${e=this.removeNegationFromQualifierIfSupported(e)}`,n=`data-suggestable-${e}-path`;if(this.searchInput.hasAttribute(t))return JSON.parse(this.searchInput.getAttribute(t)||"[]");if(!this.searchInput.hasAttribute(n))return Promise.resolve([]);{let e=this.searchInput.getAttribute(n);if(!e)throw Error(`${n} not set`);return this.cachedJSON(e)}}hideFilterSuggestions(){(0,a.jK)(this.searchForm),this.autocompleteDropdown.hidden=!0,this.searchInput.setAttribute("aria-expanded","false"),this.searchInput.removeAttribute("aria-activedescendant")}updateFilterSuggestionResults(){let e,t,n=this.searchInput.value,i=(n.slice(0,this.searchInput.selectionEnd).match(/(:"[^"]+"?|\S)+$/)||[""])[0].replace(/"/g,"");this.autocompleteDropdown.hidden=!1,this.searchInput.setAttribute("aria-expanded","true"),i.includes(":")?[e,...t]=i.split(":"):e=i,null!=t?this.renderValueSuggestions(e,t.join(":")):this.renderQualifierSuggestions(e),n.trim().length>0&&(!this.invalidSearchTerms()||this.showSubmissionOptionIfInvalidSearchTerms)&&!this.searchMatchesDefault()?(this.clearButton&&(this.clearButton.hidden=!1),(0,a.T_)(this.searchForm)):(this.clearButton&&(this.clearButton.hidden=!0),(0,a.QZ)(this.searchForm))}handleSelectedSuggestionResultEvent(e){let t=e.target;if(t.classList.contains("js-filter-input-support-url"))return;if(t.hasAttribute("data-search"))return void(0,o.Bt)(this.searchForm);let n=t.getAttribute("data-value")||"";":"!==n[n.length-1]&&(n+=" ");let i=this.searchInput.value.slice(0,this.searchInput.selectionEnd),a=i.match(/(\S+)$/)?.pop()||"",s=this.searchInput.value.slice(this.searchInput.selectionEnd),l=" "!==s[0]?" ":"";if(a&&(a.startsWith("-")&&!n.startsWith("-")&&(n=`-${n}`),a.includes(","))){let e=a.split(",");e.pop();let t=n.split(":").slice(1).join(":");e.push(t||""),n=e.join(",")}let u=i.replace(/\S+$/,"");this.searchInput.value=u+n+l+s,e.preventDefault(),this.searchInput.focus();let c=u.length+n.length;this.searchInput.setSelectionRange(c,c),(0,r.f)(this.searchInput,"input")}handleFormKeydownEvent(e){"Enter"===e.detail.hotkey&&!this.autocompleteResults.querySelector(".js-filter-loading")&&!this.autocompleteResults.querySelector(".js-navigation-item.navigation-focus")&&(0,o.Bt)(this.searchForm)}clear(){this.searchInput.value=this.getDefaultSearch(),0===this.getInitialValue().trim().length?this.updateFilterSuggestionResults():(0,o.Bt)(this.searchForm)}renderQualifierSuggestions(e){this.showAllQualifiersIfNoneMatch?this.renderMatchingOrAllQualifierSuggestions(e):this.renderMatchingQualifierSuggestions(e)}handleSuggestionNavigation(e){null!=e.target&&this.searchInput.setAttribute("aria-activedescendant",e.target.id)}renderMatchingOrAllQualifierSuggestions(e){let t=this.fetchQualifierSuggestions(),n=this.filterSuggestionsList(t,e,{fuzzy:this.fuzzyMatchQualifiers}).then((e=>0===e.length?t:e));this.renderSuggestionDropdown(n)}renderMatchingQualifierSuggestions(e){let t=this.filterSuggestionsList(this.fetchQualifierSuggestions(),e,{fuzzy:this.fuzzyMatchQualifiers});this.renderSuggestionDropdown(t)}renderValueSuggestions(e,t){let n=this.fetchMatchingSuggestions(e,t);this.renderSuggestionDropdown(n)}async fetchMatchingSuggestions(e,t){let n=this.fetchSuggestionsForQualifier(e),i=t.split(",").pop()||"";return(await this.filterSuggestionsList(n,i,{fuzzy:this.fuzzyMatchValues})).map((t=>({value:`${e}:${t.value}`,description:t.description})))}async filterSuggestionsList(e,t,{fuzzy:n}={fuzzy:!0}){let i=await e,a=t.trim().toLowerCase();return a&&0!==a.length?(a.startsWith("-")&&(a=a.slice(1)),i.filter((e=>n?e.value.toLowerCase().includes(a):e.value.toLowerCase().startsWith(a)))):i}renderSuggestionDropdown(e){(0,i.sY)(i.dy`
        <div role="listbox" aria-label="${this.suggestionsTitle}">
          ${this.renderSearchWarningIfRequired()}
          ${this.shouldRenderSubmissionOption()?this.renderSearchSuggestion():""}
          ${(0,u.C)(this.renderSuggestionList(e),this.renderLoadingItem())}
        </div>
      `,this.autocompleteResults),this.postDropdownRender()}renderSearchWarningIfRequired(){let e=this.invalidSearchTerms();if(!e||0===e.length)return"";let t=i.dy``,n=this.getFilterSupportURL();return n&&(t=i.dy`<a
        class="js-navigation-item js-navigation-open js-filter-input-support-url px-1"
        href="${n}"
        target="_blank"
      >
        Learn more about filters.
      </a>`),i.dy`
      <div class="color-bg-attention color-fg-muted ml-n2 mr-n2 mt-n1 py-1 px-2 js-search-warning-container">
        Sorry, we don't support the <span class="text-bold">${e}</span> filter yet. ${t}
      </div>
    `}getFilterSupportURL(){return this.searchInput.getAttribute("data-filter-support-url")}postDropdownRender(){}renderSearchSuggestion(){let e=this.searchInput.value.trim();return 0===e.length||/:\s|:$/g.test(e)&&!/(?:\w+:){2,}/g.test(e)?i.dy``:i.dy`
      <div
        id="${this.getComponentTagName()}-search-submit-option"
        class="border-bottom-0 rounded-2 py-1 px-2 mx-0 mb-1 js-navigation-item"
        data-action="navigation:focus:${this.getComponentTagName()}#handleSuggestionNavigation"
        data-search="true"
        role="option"
      >
        <span class="text-bold">${e}</span> - submit
      </div>
    `}invalidSearchTerms(){let e=this.fetchQualifierSuggestions().map((e=>e.value)),t=RegExp(/[^\s:]+:/),n=RegExp(/"(?:\\"|.)*?"/),i=RegExp(`${t.source}(?:${n.source}|[^\\s]*)`),a=RegExp(/[^\s]+/),r=RegExp(`${i.source}|${a.source}`,"g"),s=(this.searchInput.value.match(r)||[]).filter((t=>{let n=(t=this.removeNegationFromQualifierIfSupported(t)).indexOf(":");if(-1===n)return this.unqualifiedSearchTermsAlwaysValid?null:!e.some((e=>e.startsWith(t)));{let i=t.substr(0,n+1);return!e.some((e=>e===i))}}));return 0===s.length?null:s.join(" ")}searchMatchesDefault(){let e=this.searchInput.value.trim().split(" ").sort(),t=this.getDefaultSearch().trim().split(" ").sort();return e.length===t.length&&e.every(((e,n)=>e===t[n]))}getInitialValue(){return this.getDataAttributeOrThrow("data-initial-value")}getComponentTagName(){return this.tagName.toLowerCase()}getDefaultSearch(){return this.getDataAttributeOrThrow("data-default-value")}getDataAttributeOrThrow(e){let t=this.searchInput.getAttribute(e);if(null===t)throw Error(`${e} is missing from search input`);return t}renderSuggestionsTitle(){return i.dy`<p
      class="h6 width-full text-normal border-bottom color-bg-default color-fg-muted py-2 mb-2"
      aria-hidden="true"
    >
      ${this.suggestionsTitle}
    </p>`}async renderSuggestionList(e){let t=(await e).map(((e,t)=>i.dy`
          <div
            class="border-bottom-0 rounded-2 py-1 px-2 mx-0 mb-1 js-navigation-item"
            data-value="${e.value}"
            data-action="navigation:focus:${this.getComponentTagName()}#handleSuggestionNavigation"
            aria-label="${e.value} ${e.description}"
            id="${this.getComponentTagName()}-suggestion-${t}"
            role="option"
          >
            <span class="text-bold">${e.value}</span>${this.spaceBetweenValueAndDescription?" ":""}<span
              class="autocomplete-text-qualifier color-fg-muted"
              >&nbsp;${e.description}</span
            >
            ${e.isAlpha&&this.alphaTag} ${e.isBeta&&this.betaTag}
            ${e.isNew?this.newTag:""}
          </div>
        `));return t.length&&t.unshift(this.renderSuggestionsTitle()),t}renderLoadingItem(){return i.dy`
      ${this.renderSuggestionsTitle()}
      <span class="js-filter-loading">loading...</span>
    `}handleSearchBlur(){this.hideFilterSuggestions(),this.selectorOfElementToActivateOnBlur&&(0,a.QZ)(document.querySelector(this.selectorOfElementToActivateOnBlur))}inputKey(e){"Escape"===e.key&&this.handleSearchBlur()}shouldRenderSubmissionOption(){return this.showSubmissionOptionIfInvalidSearchTerms||!this.invalidSearchTerms()}static tagFn(e){return i.dy`<span class="lh-condensed px-1 rounded-2 border color-border-success">${e}</span>`}constructor(...e){super(...e),this.showAllQualifiersIfNoneMatch=!0,this.fuzzyMatchQualifiers=!1,this.fuzzyMatchValues=!0,this.showSubmissionOptionIfInvalidSearchTerms=!1,this.suggestionsTitle="Available filters",this.spaceBetweenValueAndDescription=!0,this.selectorOfElementToActivateOnBlur=null,this.unqualifiedSearchTermsAlwaysValid=!0,this.alphaTag=f.tagFn("Alpha"),this.betaTag=f.tagFn("Beta"),this.newTag=i.dy`<span class="Label ml-1 Label--accent color-bg-default float-right">New</span>`}}c([l.fA],f.prototype,"autocompleteDropdown",void 0),c([l.fA],f.prototype,"autocompleteResults",void 0),c([l.fA],f.prototype,"clearButton",void 0),c([l.fA],f.prototype,"searchForm",void 0),c([l.fA],f.prototype,"searchInput",void 0),c([(0,s.Z)({cache:h})],f.prototype,"cachedJSON",null)},54650(e,t,n){n.d(t,{Bt:()=>o,DN:()=>u,KL:()=>f,Se:()=>l,qC:()=>d,sw:()=>c});var i=n(59753),a=n(76177),r=n(54679);function s(e,t,n){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:n}))}function o(e,t){t&&(function(e,t){if(!(e instanceof HTMLFormElement))throw TypeError("The specified element is not of type HTMLFormElement.");if(!(t instanceof HTMLElement))throw TypeError("The specified element is not of type HTMLElement.");if("submit"!==t.type)throw TypeError("The specified element is not a submit button.");if(!e||e!==t.form)throw Error("The specified element is not owned by the form element.")}(e,t),(0,a.j)(t)),s(e,"submit",!0)&&e.submit()}function l(e,t){if("boolean"==typeof t){if(!(e instanceof HTMLInputElement))throw TypeError("only checkboxes can be set to boolean value");e.checked=t}else{if("checkbox"===e.type)throw TypeError("checkbox can't be set to string value");e.value=t}s(e,"change",!1)}function u(e,t){for(let n in t){let i=t[n],a=e.elements.namedItem(n);(a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement)&&(a.value=i)}}function c(e){if(!(e instanceof HTMLElement))return!1;let t=e.nodeName.toLowerCase(),n=(e.getAttribute("type")||"").toLowerCase();return"select"===t||"textarea"===t||"input"===t&&"submit"!==n&&"reset"!==n||e.isContentEditable}function h(e){return new URLSearchParams(e)}function f(e,t){let n=new URLSearchParams(e.search),i=h(t);for(let[e,t]of i)n.append(e,t);return n.toString()}function d(e){return h(new FormData(e)).toString()}(0,i.on)("click",".js-remote-submit-button",(async function(e){let t,n=e.currentTarget.form;e.preventDefault();try{t=await fetch(n.action,{method:n.method,body:new FormData(n),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{}t&&!t.ok&&(0,r.v)()}))},4738(e,t,n){n.d(t,{QZ:()=>E,ZH:()=>I,jK:()=>S,T_:()=>A,Sw:()=>j,VF:()=>L,VH:()=>$});var i=n(76932),a=n(59753),r=n(98105),s=n(11793),o=n(94313),l=n(36071);function u(e,t){let n=e,i=e.ownerDocument;if((n===i||n===i.defaultView||n===i.documentElement||n===i.body)&&(n=i),n instanceof i.defaultView.Document){let e=null!=t.top?t.top:i.defaultView.pageYOffset,n=null!=t.left?t.left:i.defaultView.pageXOffset;i.defaultView.scrollTo(n,e)}else{if(!(n instanceof i.defaultView.HTMLElement))throw Error("invariant");n.scrollTop=t.top,null!=t.left&&(n.scrollLeft=t.left)}}var c=n(97629);let h=navigator.userAgent.match(/Macintosh/),f=h?"metaKey":"ctrlKey",d=h?"Meta":"Control",g=!1,p={x:0,y:0};function m(e){e instanceof MouseEvent&&((p.x!==e.clientX||p.y!==e.clientY)&&(g=!1),p={x:e.clientX,y:e.clientY})}function v(e){if(g)return;let t=e.currentTarget,{target:n}=e;if(!(n instanceof Element&&t instanceof HTMLElement&&t.closest(".js-active-navigation-container")))return;let i=n.closest(".js-navigation-item");i&&C(i,t)}(0,l.N7)(".js-navigation-container:not(.js-navigation-container-no-mouse)",{subscribe:e=>(0,i.qC)((0,i.RB)(e,"mouseover",m),(0,i.RB)(e,"mouseover",v))});let b=0;function y(e){if(e.target!==document.body&&e.target instanceof HTMLElement&&!e.target.classList.contains("js-navigation-enable"))return;g=!0;let t=D(),n=!1;if(t){let i=t.querySelector(".js-navigation-item.navigation-focus")||t;n=(0,a.f)(i,"navigation:keydown",{hotkey:(0,s.EL)(e),originalEvent:e,originalTarget:e.target})}n||e.preventDefault()}function w(e){let t=e.modifierKey||e.altKey||e.ctrlKey||e.metaKey;(0,a.f)(e.currentTarget,"navigation:open",{modifierKey:t,shiftKey:e.shiftKey})||e.preventDefault()}function E(e){let t=D();e!==t&&(null!==t&&S(t),e?.classList.add("js-active-navigation-container"))}function S(e){e.classList.remove("js-active-navigation-container")}(0,l.N7)(".js-active-navigation-container",{add(){1==++b&&document.addEventListener("keydown",y)},remove(){0==--b&&document.removeEventListener("keydown",y)}}),(0,a.on)("navigation:keydown",".js-active-navigation-container",(function(e){let t=e.currentTarget,n=e.detail.originalTarget.matches("input, textarea"),i=e.target;if((0,o.Zf)(e.detail.originalEvent)){if(i.classList.contains("js-navigation-item"))if(n){if(h)switch((0,s.EL)(e.detail.originalEvent)){case"Control+n":M(i,t);break;case"Control+p":x(i,t)}switch((0,s.EL)(e.detail.originalEvent)){case"ArrowUp":x(i,t);break;case"ArrowDown":M(i,t);break;case"Enter":case`${d}+Enter`:k(i,e.detail.originalEvent[f])}}else{if(h)switch((0,s.EL)(e.detail.originalEvent)){case"Control+n":M(i,t);break;case"Control+p":x(i,t);break;case"Alt+v":!function(e,t){let n,i,a=R(t),s=a.indexOf(e),o=(0,r.VZ)(e);if(null==o)return;for(;(n=a[s-1])&&(i=(0,r._C)(n,o))&&i.top>=0;)s--;if(n){if(C(n,t))return;F(o,n)}}(i,t);break;case"Control+v":!function(e,t){let n,i,a=R(t),s=a.indexOf(e),o=(0,r.VZ)(e);if(null==o)return;for(;(n=a[s+1])&&(i=(0,r._C)(n,o))&&i.bottom>=0;)s++;if(n){if(C(n,t))return;F(o,n)}}(i,t)}switch((0,s.EL)(e.detail.originalEvent)){case"j":case"J":M(i,t);break;case"k":case"K":x(i,t);break;case"o":case"Enter":case`${d}+Enter`:k(i,e.detail[f])}}else{let i=R(t)[0];if(i)if(n)h&&"Control+n"===(0,s.EL)(e.detail.originalEvent)&&C(i,t),"ArrowDown"===(0,s.EL)(e.detail.originalEvent)&&C(i,t);else{if(h)switch((0,s.EL)(e.detail.originalEvent)){case"Control+n":case"Control+v":C(i,t)}"j"===(0,s.EL)(e.detail.originalEvent)&&C(i,t)}}if(n){if(h)switch((0,s.EL)(e.detail.originalEvent)){case"Control+n":case"Control+p":e.preventDefault()}switch((0,s.EL)(e.detail.originalEvent)){case"ArrowUp":case"ArrowDown":case"Enter":e.preventDefault()}}else{if(h)switch((0,s.EL)(e.detail.originalEvent)){case"Control+n":case"Control+p":case"Control+v":case"Alt+v":e.preventDefault()}switch((0,s.EL)(e.detail.originalEvent)){case"j":case"k":case"o":case"Enter":case`${f}+Enter`:e.preventDefault()}}}})),(0,a.on)("click",".js-active-navigation-container .js-navigation-item",(function(e){w(e)})),(0,a.on)("navigation:keyopen",".js-active-navigation-container .js-navigation-item",(function(e){let t=e.currentTarget.classList.contains("js-navigation-open")?e.currentTarget:e.currentTarget.querySelector(".js-navigation-open");if(t instanceof HTMLAnchorElement){if(e.detail.modifierKey)window.open(t.href,"_blank"),window.focus();else{t.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))&&t.click()}e.preventDefault()}else w(e)}));let T=[];function L(e){let t=D();t&&T.push(t),E(e)}function j(e){S(e),I(e);let t=T.pop();t&&E(t)}function A(e,t){let n=R(e)[0],i=(t||e).closest(".js-navigation-item")||n;if(E(e),i instanceof HTMLElement){if(C(i,e))return;H((0,r.VZ)(i),i)}}function I(e){let t=e.querySelectorAll(".js-navigation-item.navigation-focus");for(let e of t)e.classList.remove("navigation-focus")}function $(e,t){I(e),A(e,t)}function x(e,t){let n=R(t),i=n.indexOf(e),a=n[i-1];if(a){if(C(a,t))return;let e=(0,r.VZ)(a);"page"===O(t)?F(e,a):H(e,a)}}function M(e,t){let n=R(t),i=n.indexOf(e),a=n[i+1];if(a){if(C(a,t))return;let e=(0,r.VZ)(a);"page"===O(t)?F(e,a):H(e,a)}}function k(e,t=!1){(0,a.f)(e,"navigation:keyopen",{modifierKey:t})}function C(e,t){return!(0,a.f)(e,"navigation:focus")||(I(t),e.classList.add("navigation-focus"),!1)}function D(){return document.querySelector(".js-active-navigation-container")}function R(e){let t=[];for(let n of e.querySelectorAll(".js-navigation-item"))n instanceof HTMLElement&&(0,c.Z)(n)&&t.push(n);return t}function O(e){return e.getAttribute("data-navigation-scroll")||"item"}function F(e,t,n="smooth"){let i=(0,r._C)(t,e);i&&(i.bottom<=0?t.scrollIntoView({behavior:n,block:"start"}):i.top<=0&&t.scrollIntoView({behavior:n,block:"end"}))}function H(e,t){let n=(0,r.oE)(t,e),i=(0,r._C)(t,e);if(null!=n&&null!=i)if(i.bottom<=0&&document.body){u(e,{top:(null!=e.offsetParent?e.scrollHeight:document.body.scrollHeight)-(n.bottom+i.height)})}else i.top<=0&&u(e,{top:n.top})}},76177(e,t,n){function i(e){let t=e.closest("form");if(!(t instanceof HTMLFormElement))return;let n=a(t);if(e.name){let i=e.matches("input[type=submit]")?"Submit":"",a=e.value||i;n||((n=document.createElement("input")).type="hidden",n.classList.add("js-submit-button-value"),t.prepend(n)),n.name=e.name,n.value=a}else n&&n.remove()}function a(e){let t=e.querySelector("input.js-submit-button-value");return t instanceof HTMLInputElement?t:null}n.d(t,{j:()=>i,u:()=>a})},76932(e,t,n){n.d(t,{RB:()=>a,qC:()=>r,w0:()=>i});class i{constructor(e){this.closed=!1,this.unsubscribe=()=>{e(),this.closed=!0}}}function a(e,t,n,a={capture:!1}){return e.addEventListener(t,n,a),new i((()=>{e.removeEventListener(t,n,a)}))}function r(...e){return new i((()=>{for(let t of e)t.unsubscribe()}))}},97629(e,t,n){function i(e){var t;return!((t=e).offsetWidth<=0&&t.offsetHeight<=0)}n.d(t,{Z:()=>i})}}]);